<div class="mb-4 border-0 rounded bg-light" [class.text-muted]="idea.isDeleted">
  <div class="row">
    <div class="col">
      <a [routerLink]="['/idea', idea.id]">
        <h3 class="m-0 hover-underline-animation">{{idea.title}}</h3>
      </a>
    </div>
    <div class="col-auto">
      <div class="float-right">
        <fa name="arrow-up" size="lg" class="icon-button" [ngClass]="idea.currentUserLike === 1 ? 'text-success' : ''" (click)="like(true)"></fa>
        <span [ngClass]="idea.likeCount < 0 ? 'text-danger' : 'text-success'">{{idea.likeCount}}</span>
        <fa name="arrow-down" size="lg" class="icon-button" [ngClass]="idea.currentUserLike === -1 ? 'text-danger' : ''" (click)="like(false)"></fa>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <a *ngFor="let tag of idea.tags" (click)="selectTag(tag)" href="#" class="badge badge-gray mr-2">{{tag.name}}</a>
    </div>
  </div>
  <div class="row pt-1">
    <div class="col">
      <a [routerLink]="['/profile', idea.creator.name]" style="text-decoration: none">
        <img [src]="idea.creator.avatarURL" class="avatar-small" alt="{{idea.creator.name}}'s avatar'">
        <span>{{idea.creator.name}}</span>
      </a>
      <span class="text-muted"> shared idea <date [date]="idea.createdDate"></date></span>
    </div>
    <div class="col-auto text-muted">
      <fa name="eye" size="lg"></fa>
      <span>{{idea.viewCount}}</span>
    </div>
  </div>
  <div class="row mt-1 mb-1">
    <div class="col" [froalaView]="idea.article" 
        #content [class.collapsable]="!isCollapsed"></div>
  </div>
  <div class="row">
    <div class="col">
      <span class="read-more" [hidden]="isCollapsed" (click)="isCollapsed=true">READ MORE</span>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <button type="button" (click)="goToComments()" class="btn btn-small btn-outline-warning">
        <span>{{idea.commentCount}}</span>
        <fa name="commenting-o" size="lg"></fa>
      </button>
      <div class="float-right">
        <fa [name]="idea.currentUserIsFavorited ? 'star' : 'star-o'" class="text-warning icon-button" style="font-size: 1.5rem" (click)="setFavorite()"></fa>
      </div>
    </div>
  </div>
</div>
